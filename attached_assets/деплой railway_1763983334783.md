# üöÄ –ú–ê–°–¢–ï–†-–ì–ê–ô–î: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤ Replit ‚Üí –î–µ–ø–ª–æ–π –Ω–∞ Railway

**–¶–µ–ª—å:** –° –ü–ï–†–í–û–ì–û –†–ê–ó–ê —É—Å–ø–µ—à–Ω–æ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å –ª—é–±–æ–µ Vite+React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å Replit –Ω–∞ Railway.

**–í–∞–∂–Ω–æ:** –°–ª–µ–¥—É–π—Ç–µ —ç—Ç–æ–º—É –≥–∞–π–¥—É –°–¢–†–û–ì–û –ø–æ –ø–æ—Ä—è–¥–∫—É. –ö–∞–∂–¥—ã–π —à–∞–≥ –∫—Ä–∏—Ç–∏—á–µ–Ω!

---

## üìö –°–û–î–ï–†–ñ–ê–ù–ò–ï

### –ß–ê–°–¢–¨ 1: –†–ê–ó–†–ê–ë–û–¢–ö–ê –í REPLIT
1. [–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Replit](#—á–∞—Å—Ç—å-1-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞-–≤-replit)
2. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
3. [–í–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏](#–≤–∞–∂–Ω—ã–µ-—Ñ–∞–π–ª—ã-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)
4. [Best Practices –≤ Replit](#best-practices-–≤-replit)

### –ß–ê–°–¢–¨ 2: –ü–û–î–ì–û–¢–û–í–ö–ê –ö –î–ï–ü–õ–û–Æ
5. [–ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º](#—á–∞—Å—Ç—å-2-–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-–∫-–¥–µ–ø–ª–æ—é)
6. [–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –¥–ª—è Railway](#–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ-—Ñ–∞–π–ª—ã-–¥–ª—è-railway)
7. [Git –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#git-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)

### –ß–ê–°–¢–¨ 3: –î–ï–ü–õ–û–ô –ù–ê RAILWAY
8. [–ü–µ—Ä–≤—ã–π –¥–µ–ø–ª–æ–π (–ø–æ—à–∞–≥–æ–≤–æ)](#—á–∞—Å—Ç—å-3-–¥–µ–ø–ª–æ–π-–Ω–∞-railway)
9. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
10. [–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ø–ª–æ—è](#–ø—Ä–æ–≤–µ—Ä–∫–∞-–¥–µ–ø–ª–æ—è)

### –ß–ê–°–¢–¨ 4: TROUBLESHOOTING
11. [–ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è](#—á–∞—Å—Ç—å-4-troubleshooting)
12. [–ö–∞–∫ —á–∏—Ç–∞—Ç—å –ª–æ–≥–∏ Railway](#–∫–∞–∫-—á–∏—Ç–∞—Ç—å-–ª–æ–≥–∏-railway)
13. [–û—Ç–ª–∞–¥–∫–∞ –≤ production](#–æ—Ç–ª–∞–¥–∫–∞-–≤-production)

### –ß–ê–°–¢–¨ 5: –ü–û–°–õ–ï –î–ï–ü–õ–û–Ø
14. [Continuous Deployment](#—á–∞—Å—Ç—å-5-–ø–æ—Å–ª–µ-–¥–µ–ø–ª–æ—è)
15. [–û–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
16. [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏](#–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥-–∏-–º–µ—Ç—Ä–∏–∫–∏)

---

# –ß–ê–°–¢–¨ 1: –†–ê–ó–†–ê–ë–û–¢–ö–ê –í REPLIT

## 1.1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Replit

### –°–ø–æ—Å–æ–± 1: –° –Ω—É–ª—è (Node.js)

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [replit.com](https://replit.com)
2. –ù–∞–∂–º–∏—Ç–µ **"Create Repl"**
3. –í—ã–±–µ—Ä–∏—Ç–µ **"Node.js"** (–Ω–µ Vite, –Ω–µ React - –≤—ã–±–µ—Ä–∏—Ç–µ —á–∏—Å—Ç—ã–π Node.js)
4. –í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø—Ä–æ–µ–∫—Ç–∞
5. –ù–∞–∂–º–∏—Ç–µ **"Create Repl"**

**–ü–æ—á–µ–º—É Node.js –∞ –Ω–µ React template?** Replit —à–∞–±–ª–æ–Ω—ã —á–∞—Å—Ç–æ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ. –õ—É—á—à–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤—Å—ë –≤—Ä—É—á–Ω—É—é.

### –°–ø–æ—Å–æ–± 2: –ò–º–ø–æ—Ä—Ç –∏–∑ GitHub

1. –°–æ–∑–¥–∞–π—Ç–µ repo –Ω–∞ GitHub
2. –í Replit –Ω–∞–∂–º–∏—Ç–µ **"Create Repl"**
3. –í—ã–±–µ—Ä–∏—Ç–µ **"Import from GitHub"**
4. –í—Å—Ç–∞–≤—å—Ç–µ URL –≤–∞—à–µ–≥–æ repo
5. –ù–∞–∂–º–∏—Ç–µ **"Import from GitHub"**

---

## 1.2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–ê–Ø —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è Vite+React:

```
your-project/
‚îú‚îÄ‚îÄ client/                    # Frontend –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.tsx          # Entry point
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.tsx           # Main component
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.css         # Global styles
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/       # React components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/            # Page components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lib/              # Utilities
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ hooks/            # Custom hooks
‚îÇ   ‚îú‚îÄ‚îÄ index.html            # HTML template
‚îÇ   ‚îî‚îÄ‚îÄ public/               # Static assets
‚îÇ
‚îú‚îÄ‚îÄ server/                    # Backend (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îÇ   ‚îú‚îÄ‚îÄ index.ts              # Server entry
‚îÇ   ‚îî‚îÄ‚îÄ routes.ts             # API routes
‚îÇ
‚îú‚îÄ‚îÄ shared/                    # Shared types/schemas
‚îÇ   ‚îî‚îÄ‚îÄ schema.ts             # Database schema
‚îÇ
‚îú‚îÄ‚îÄ attached_assets/           # Replit assets (images)
‚îÇ
‚îú‚îÄ‚îÄ dist/                      # ‚ö†Ô∏è Build output (–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å!)
‚îÇ
‚îú‚îÄ‚îÄ node_modules/              # ‚ö†Ô∏è Dependencies (–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å!)
‚îÇ
‚îú‚îÄ‚îÄ .gitignore                 # ‚úÖ –ö–†–ò–¢–ò–ß–ù–û!
‚îú‚îÄ‚îÄ package.json               # ‚úÖ –ö–†–ò–¢–ò–ß–ù–û!
‚îú‚îÄ‚îÄ vite.config.ts             # ‚úÖ –ö–†–ò–¢–ò–ß–ù–û!
‚îú‚îÄ‚îÄ railway.json               # ‚úÖ –ö–†–ò–¢–ò–ß–ù–û –¥–ª—è Railway!
‚îú‚îÄ‚îÄ tsconfig.json              # TypeScript config
‚îú‚îÄ‚îÄ tailwind.config.ts         # Tailwind config
‚îî‚îÄ‚îÄ replit.md                  # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
```

### üö® –í–ê–ñ–ù–û: –ß—Ç–æ –ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å –≤ Git

–°–æ–∑–¥–∞–π—Ç–µ `.gitignore` **–°–†–ê–ó–£**:

```gitignore
# Dependencies
node_modules/
.pnpm-store/

# Build output
dist/
dist-ssr/
*.local

# Environment
.env
.env.local
.env.production
.env.development

# Logs
logs/
*.log
npm-debug.log*
pnpm-debug.log*

# Editor
.DS_Store
.vscode/
.idea/

# Replit specific
.replit
.upm/
.config/
.cache/

# Don't commit these to Railway!
.breakpoints
replit.nix
```

**‚ö†Ô∏è –ù–ò–ö–û–ì–î–ê –ù–ï –ö–û–ú–ú–ò–¢–¨–¢–ï:**
- `dist/` - Railway —Å–æ–±–µ—Ä—ë—Ç –µ–≥–æ —Å–∞–º
- `node_modules/` - Railway —É—Å—Ç–∞–Ω–æ–≤–∏—Ç —Å–∞–º
- `.env` - —Å–µ–∫—Ä–µ—Ç—ã –Ω–∏–∫–æ–≥–¥–∞ –≤ git!

---

## 1.3. –í–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### üìÑ `package.json` - –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô —Ñ–∞–π–ª!

```json
{
  "name": "your-app",
  "version": "1.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview"
  },
  "dependencies": {
    "react": "^18.3.1",
    "react-dom": "^18.3.1"
  },
  "devDependencies": {
    "@types/react": "^18.3.0",
    "@types/react-dom": "^18.3.0",
    "@vitejs/plugin-react": "^4.3.0",
    "typescript": "^5.5.0",
    "vite": "^5.4.0"
  }
}
```

### üö® –î–õ–Ø SPA (–ë–ï–ó BACKEND):

**–ù–ï –î–û–ë–ê–í–õ–Ø–ô–¢–ï `"start"` script!**

```json
{
  "scripts": {
    "dev": "vite",
    "build": "vite build"
    // ‚ùå –ù–ï–¢ "start"! –≠—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è Railway!
  }
}
```

**–ü–æ—á–µ–º—É?** Railway –≤–∏–¥–∏—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ `start` ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Caddy –¥–ª—è SPA.

### ‚úÖ –î–õ–Ø FULL-STACK (–° BACKEND):

```json
{
  "scripts": {
    "dev": "tsx server/index.ts",
    "build": "vite build",
    "start": "node server/index.js"
  }
}
```

---

### üìÑ `vite.config.ts` - –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –¥–ª—è production!

**‚úÖ –ö–û–ü–ò–†–£–ô–¢–ï –≠–¢–£ –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Æ:**

```typescript
import { defineConfig } from "vite";
import react from "@vitejs/plugin-react";
import path from "path";

export default defineConfig({
  // ‚úÖ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–ª—è Railway
  base: '/',
  
  plugins: [
    react({
      jsxRuntime: 'automatic',
    }),
  ],
  
  resolve: {
    alias: {
      "@": path.resolve(import.meta.dirname, "client", "src"),
      "@shared": path.resolve(import.meta.dirname, "shared"),
      "@assets": path.resolve(import.meta.dirname, "attached_assets"),
    },
  },
  
  // ‚úÖ –ö–†–ò–¢–ò–ß–ù–û: root —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ client/
  root: path.resolve(import.meta.dirname, "client"),
  
  build: {
    // ‚úÖ Output –≤ dist/ (–∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞)
    outDir: path.resolve(import.meta.dirname, "dist"),
    emptyOutDir: true,
    target: 'es2020',
    minify: 'terser',
    
    rollupOptions: {
      output: {
        // üö® –ö–†–ò–¢–ò–ß–ù–û: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π chunk splitting!
        manualChunks: (id) => {
          if (id.includes('node_modules')) {
            // ‚úÖ React –î–û–õ–ñ–ï–ù –±—ã—Ç—å –≤ vendor chunk!
            // ‚ùå –ù–ï —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π react-vendor!
            
            if (id.includes('framer-motion')) {
              return 'animation-vendor';
            }
            if (id.includes('@radix-ui')) {
              return 'ui-vendor';
            }
            // –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ –≤–∫–ª—é—á–∞—è React
            return 'vendor';
          }
        },
        
        chunkFileNames: 'assets/[name]-[hash].js',
        entryFileNames: 'assets/[name]-[hash].js',
        assetFileNames: 'assets/[name]-[hash].[ext]'
      }
    },
    
    sourcemap: 'hidden',
    cssCodeSplit: true,
  },
  
  // ‚úÖ Dev server –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è Replit
  server: {
    host: "0.0.0.0",
    port: 5000,
    strictPort: true,
    allowedHosts: true,  // –í–∞–∂–Ω–æ –¥–ª—è Railway!
  },
});
```

### üö® –ß–ê–°–¢–ê–Ø –û–®–ò–ë–ö–ê - –ù–ï –î–ï–õ–ê–ô–¢–ï –¢–ê–ö:

```typescript
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–æ–±–ª–µ–º—ã –∑–∞–≥—Ä—É–∑–∫–∏!
manualChunks: (id) => {
  if (id.includes('react') || id.includes('react-dom')) {
    return 'react-vendor';  // ‚ùå React –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –ø–æ—Å–ª–µ vendor!
  }
  return 'vendor';
}
```

**–ü—Ä–æ–±–ª–µ–º–∞:** Vendor chunk –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º –∏ –ø—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å React ‚Üí **"Cannot read 'useState' of undefined"** crash!

---

### üìÑ `railway.json` - –°–û–ó–î–ê–ô–¢–ï –°–†–ê–ó–£!

**–í –ö–û–†–ù–ï –ü–†–û–ï–ö–¢–ê** —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `railway.json`:

```json
{
  "$schema": "https://railway.com/railway.schema.json",
  "build": {
    "builder": "RAILPACK"
  },
  "deploy": {
    "healthcheckPath": "/",
    "healthcheckTimeout": 100
  }
}
```

### üîç –ß—Ç–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç:

- **`builder: "RAILPACK"`** - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–æ–≤—ã–π Railpack (–±—ã—Å—Ç—Ä–µ–µ Nixpacks)
- **`healthcheckPath: "/"`** - Railway –ø—Ä–æ–≤–µ—Ä–∏—Ç –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–∞
- **`healthcheckTimeout: 100`** - –î–∞—ë—Ç 100 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∑–∞–ø—É—Å–∫

### ‚ùå –û–®–ò–ë–ö–ò –∫–æ—Ç–æ—Ä—ã—Ö –∏–∑–±–µ–≥–∞—Ç—å:

```json
{
  "deploy": {
    "startCommand": null  // ‚ùå –ù–ï –°–¢–ê–í–¨–¢–ï null!
  }
}
```

**–ü–æ—á–µ–º—É –ø–ª–æ—Ö–æ:** `null` –æ—Ç–∫–ª—é—á–∞–µ—Ç –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ Caddy. –õ—É—á—à–µ –≤–æ–æ–±—â–µ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å `startCommand` –¥–ª—è SPA.

---

### üìÑ `client/index.html` - –ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω

```html
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Your App</title>
  
  <!-- ‚úÖ –ù–ï –¥–æ–±–∞–≤–ª—è–π—Ç–µ –≤—Ä—É—á–Ω—É—é modulepreload! -->
  <!-- Vite –¥–æ–±–∞–≤–∏—Ç –∏—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ -->
</head>
<body>
  <div id="root"></div>
  <script type="module" src="/src/main.tsx"></script>
</body>
</html>
```

### üö® –ù–ï –î–ï–õ–ê–ô–¢–ï:

```html
<!-- ‚ùå –£–î–ê–õ–ò–¢–ï –µ—Å–ª–∏ –µ—Å—Ç—å! -->
<link rel="modulepreload" href="/src/main.tsx">
<link rel="modulepreload" href="data:application/octet-stream;base64,...">
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–æ–∑–¥–∞—ë—Ç MIME type –æ—à–∏–±–∫–∏ –≤ production. Vite —Å–∞–º –¥–æ–±–∞–≤–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ preload –ø—Ä–∏ `vite build`.

---

## 1.4. Best Practices –≤ Replit

### ‚úÖ Workflow –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–í Replit —Å–æ–∑–¥–∞–π—Ç–µ `.replit` —Ñ–∞–π–ª:

```toml
run = "npm run dev"

[nix]
channel = "stable-24_05"

[deployment]
run = ["sh", "-c", "npm run build"]
```

### ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ TypeScript

```typescript
// –°—Ç—Ä–æ–≥–∏–µ —Ç–∏–ø—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—Ç –æ—à–∏–±–∫–∏
const MyComponent: React.FC = () => {
  return <div>Hello</div>;
};
```

### ‚úÖ Environment Variables

–í Replit —Å–æ–∑–¥–∞–π—Ç–µ **Secrets** (–Ω–µ .env —Ñ–∞–π–ª!):

1. Sidebar ‚Üí **Tools** ‚Üí **Secrets**
2. –î–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á–∏: `DATABASE_URL`, `API_KEY` –∏ —Ç.–¥.

**‚ö†Ô∏è –ù–ò–ö–û–ì–î–ê** –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ .env –≤ git!

### ‚úÖ Database (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ)

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ë–î –≤ dev:

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Replit –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é PostgreSQL: Tools ‚Üí Database
2. –ò–ª–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –≤–Ω–µ—à–Ω–µ–π –ë–î (Neon, Supabase)

**–ù–∞ Railway:** –ë–î **–ù–ï –±—É–¥–µ—Ç**! –≠—Ç–æ —Ç–æ–ª—å–∫–æ static frontend.

---

# –ß–ê–°–¢–¨ 2: –ü–û–î–ì–û–¢–û–í–ö–ê –ö –î–ï–ü–õ–û–Æ

## 2.1. –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)

–ü—Ä–æ–π–¥–∏—Ç–µ —ç—Ç–æ—Ç —á–µ–∫–ª–∏—Å—Ç **–î–û –î–ï–ü–õ–û–Ø:**

### üìã –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

- [ ] ‚úÖ `railway.json` —Å–æ–∑–¥–∞–Ω —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- [ ] ‚úÖ `.gitignore` —Å–æ–¥–µ—Ä–∂–∏—Ç `dist/`, `node_modules/`, `.env`
- [ ] ‚úÖ `vite.config.ts` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º chunk splitting (React –≤ vendor)
- [ ] ‚úÖ `client/index.html` –ë–ï–ó —Ä—É—á–Ω—ã—Ö modulepreload
- [ ] ‚úÖ `package.json` –ë–ï–ó "start" script (–¥–ª—è SPA)

### üìã –ö–æ–¥

- [ ] ‚úÖ `npm run build` —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] ‚úÖ `dist/` —Å–æ–∑–¥–∞—ë—Ç—Å—è –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç `index.html`
- [ ] ‚úÖ –í—Å–µ –ø—É—Ç–∏ –∏–º–ø–æ—Ä—Ç–æ–≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ (–±–µ–∑ –∞–±—Å–æ–ª—é—Ç–Ω—ã—Ö `/app/...`)
- [ ] ‚úÖ –ù–µ—Ç hardcoded `localhost` URLs (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ env variables)

### üìã Git

- [ ] ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã
- [ ] ‚úÖ `.env` –ù–ï –≤ git (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ `git status`)
- [ ] ‚úÖ `dist/` –ù–ï –≤ git
- [ ] ‚úÖ Branch pushed –Ω–∞ GitHub

### üìã Assets

- [ ] ‚úÖ –í—Å–µ images/fonts –¥–æ—Å—Ç—É–ø–Ω—ã –≤ `public/` –∏–ª–∏ `attached_assets/`
- [ ] ‚úÖ –ü—É—Ç–∏ –∫ assets –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∏–ª–∏ @aliases

---

## 2.2. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –¥–ª—è Railway

### ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –¥–ª—è SPA:

```
your-project/
‚îú‚îÄ‚îÄ client/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ index.html
‚îú‚îÄ‚îÄ .gitignore          ‚úÖ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û
‚îú‚îÄ‚îÄ package.json        ‚úÖ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û
‚îú‚îÄ‚îÄ vite.config.ts      ‚úÖ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û
‚îî‚îÄ‚îÄ railway.json        ‚úÖ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û
```

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª:

#### `.gitignore`:
```bash
# –í Replit Shell –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
cat .gitignore | grep -E "dist|node_modules"

# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
# dist/
# node_modules/
```

#### `package.json`:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ù–ï–¢ "start":
grep -E '"start"' package.json

# –î–ª—è SPA –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ü–£–°–¢–û!
```

#### `vite.config.ts`:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ chunk config:
grep -A 10 "manualChunks" vite.config.ts

# –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 'react-vendor'!
```

#### `railway.json`:
```bash
cat railway.json

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
# {
#   "build": { "builder": "RAILPACK" },
#   "deploy": { "healthcheckPath": "/" }
# }
```

---

## 2.3. Git –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Git (–µ—Å–ª–∏ –µ—â—ë –Ω–µ—Ç)

```bash
# 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
git init

# 2. –°–æ–∑–¥–∞–π—Ç–µ .gitignore –ü–ï–†–ï–î –ø–µ—Ä–≤—ã–º commit!
cat > .gitignore << 'EOF'
node_modules/
dist/
.env
.env.local
*.log
.DS_Store
.replit
.upm/
EOF

# 3. –ü–µ—Ä–≤—ã–π commit
git add .
git commit -m "Initial commit: Vite+React app ready for Railway"

# 4. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub repo
git remote add origin https://github.com/your-username/your-repo.git
git branch -M main
git push -u origin main
```

### –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

```bash
# –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
git add .
git commit -m "Describe your changes"
git push
```

### üö® –ï–°–õ–ò –ó–ê–ë–´–õ–ò .gitignore

–ï—Å–ª–∏ –≤—ã —É–∂–µ –∑–∞–∫–æ–º–º–∏—Ç–∏–ª–∏ `dist/` –∏–ª–∏ `node_modules/`:

```bash
# –£–¥–∞–ª–∏—Ç–µ –∏–∑ git (–Ω–æ –æ—Å—Ç–∞–≤—å—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ):
git rm -r --cached dist/ node_modules/
git commit -m "Remove build artifacts from git"
git push
```

---

# –ß–ê–°–¢–¨ 3: –î–ï–ü–õ–û–ô –ù–ê RAILWAY

## 3.1. –ü–µ—Ä–≤—ã–π –¥–µ–ø–ª–æ–π (–ø–æ—à–∞–≥–æ–≤–æ)

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç Railway

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [railway.app](https://railway.app)
2. –ù–∞–∂–º–∏—Ç–µ **"Login"** ‚Üí –≤–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ GitHub
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ GitHub

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç

1. –ù–∞ dashboard –Ω–∞–∂–º–∏—Ç–µ **"New Project"**
2. –í—ã–±–µ—Ä–∏—Ç–µ **"Deploy from GitHub repo"**
3. –ù–∞–∂–º–∏—Ç–µ **"Configure GitHub App"** (–µ—Å–ª–∏ –ø–µ—Ä–≤—ã–π —Ä–∞–∑)
4. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–∑ —Å–ø–∏—Å–∫–∞
5. –ù–∞–∂–º–∏—Ç–µ **"Deploy Now"**

### –®–∞–≥ 3: Railway –Ω–∞—á–Ω—ë—Ç —Å–±–æ—Ä–∫—É

–í—ã —É–≤–∏–¥–∏—Ç–µ –ª–æ–≥–∏:

```
[INFO] Starting build...
[INFO] Installing dependencies...
[INFO] Running npm install...
[INFO] Running npm run build...
[INFO] Build complete!
[INFO] Starting deployment...
```

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

–ü–æ–∫–∞ –∏–¥—ë—Ç —Å–±–æ—Ä–∫–∞:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"Variables"**
2. –ù–∞–∂–º–∏—Ç–µ **"New Variable"**
3. –î–æ–±–∞–≤—å—Ç–µ:
   - **Name:** `RAILPACK_SPA_OUTPUT_DIR`
   - **Value:** `dist`
4. –ù–∞–∂–º–∏—Ç–µ **"Add"**

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Settings

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"Settings"**
2. –ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é **"Deploy"**
3. –£–±–µ–¥–∏—Ç–µ—Å—å:
   - ‚úÖ **Builder:** Railpack (–Ω–µ Nixpacks)
   - ‚úÖ **Start Command:** **–ü–£–°–¢–û** (–Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ)
   - ‚úÖ **Root Directory:** `.` (–∫–æ—Ä–µ–Ω—å)

### –®–∞–≥ 6: Generate Domain

1. –í Settings ‚Üí **Networking**
2. –ù–∞–∂–º–∏—Ç–µ **"Generate Domain"**
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL: `https://yourapp-production.up.railway.app`

### –®–∞–≥ 7: –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

–°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏:

```
‚úÖ Build completed successfully
‚úÖ Starting Caddy server...
‚úÖ Server running on port 3000
‚úÖ Health check passed
‚úÖ Deployment successful!
```

### –®–∞–≥ 8: –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç!

1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ **URL** –≤ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ dashboard
2. –ò–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ `https://yourapp-production.up.railway.app`

üéâ **–ï—Å–ª–∏ —Å–∞–π—Ç –∑–∞–≥—Ä—É–∑–∏–ª—Å—è - –£–°–ü–ï–•!**

---

## 3.2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –î–ª—è SPA (–æ–±—ã—á–Ω–æ —Ö–≤–∞—Ç–∞–µ—Ç):

```
RAILPACK_SPA_OUTPUT_DIR=dist
```

### –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ API keys (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è Vite env vars):

–í Railway **Variables** –¥–æ–±–∞–≤—å—Ç–µ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `VITE_`:

```
VITE_API_URL=https://api.example.com
VITE_TELEGRAM_BOT_NAME=YourBot
```

**–í–∞–∂–Ω–æ:** Vite **–ù–ï** –≤–∏–¥–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –±–µ–∑ `VITE_` –ø—Ä–µ—Ñ–∏–∫—Å–∞!

–í –∫–æ–¥–µ:
```typescript
const apiUrl = import.meta.env.VITE_API_URL;
```

### –°–µ–∫—Ä–µ—Ç—ã (API keys, tokens):

```
STRIPE_SECRET_KEY=sk_live_...
DATABASE_URL=postgresql://...
```

**‚ö†Ô∏è –ù–ò–ö–û–ì–î–ê** –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ git!

---

## 3.3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ø–ª–æ—è

### ‚úÖ –ü—Ä–∏–∑–Ω–∞–∫–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è:

1. **–í –ª–æ–≥–∞—Ö Railway:**
```
‚úÖ [INFO] Build completed
‚úÖ [INFO] Caddy server running
‚úÖ [INFO] Health check passed
‚úÖ [INFO] Deployment Active
```

2. **–í –±—Ä–∞—É–∑–µ—Ä–µ:**
- –°–∞–π—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–æ (1-3 —Å–µ–∫—É–Ω–¥—ã)
- –ù–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ loading spinner
- –ö–æ–Ω—Å–æ–ª—å (F12) –±–µ–∑ –∫—Ä–∞—Å–Ω—ã—Ö –æ—à–∏–±–æ–∫

3. **–í Railway Dashboard:**
- Status: **Active** (–∑–µ–ª—ë–Ω—ã–π)
- Health: **Healthy**
- Metrics –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç requests

### ‚ùå –ü—Ä–∏–∑–Ω–∞–∫–∏ –ø—Ä–æ–±–ª–µ–º:

1. **–í –ª–æ–≥–∞—Ö:**
```
‚ùå [ERROR] Build failed
‚ùå [ERROR] Health check timeout
‚ùå [INFO] Stopping Container
```

2. **–í –±—Ä–∞—É–∑–µ—Ä–µ:**
- Infinite loading spinner
- 404 Not Found
- Console errors: "Cannot read 'useState'"

3. **–í Railway:**
- Status: **Failed** (–∫—Ä–∞—Å–Ω—ã–π)
- Container restarts –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥

‚Üí –°–º–æ—Ç—Ä–∏—Ç–µ [–ß–ê–°–¢–¨ 4: Troubleshooting](#—á–∞—Å—Ç—å-4-troubleshooting)

---

# –ß–ê–°–¢–¨ 4: TROUBLESHOOTING

## 4.1. –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è

### ‚ùå –û–®–ò–ë–ö–ê 1: "Cannot read properties of undefined (reading 'useState')"

**–°–∏–º–ø—Ç–æ–º—ã:**
- –°–∞–π—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ loading screen
- –í Console (F12): `vendor-ABC.js:1 Uncaught TypeError`

**–ü—Ä–∏—á–∏–Ω–∞:** React chunk –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è **–ø–æ—Å–ª–µ** vendor chunk –∫–æ—Ç–æ—Ä—ã–π –µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç.

**–†–µ—à–µ–Ω–∏–µ:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ `vite.config.ts`
2. –ù–∞–π–¥–∏—Ç–µ `manualChunks`
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ React **–ù–ï** –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º chunk:

```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
manualChunks: (id) => {
  if (id.includes('node_modules')) {
    return 'vendor'; // React —Ç–æ–∂–µ –∑–¥–µ—Å—å!
  }
}

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
manualChunks: (id) => {
  if (id.includes('react')) return 'react-vendor'; // ‚ùå
  return 'vendor';
}
```

4. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ:
```bash
npm run build
git add vite.config.ts
git commit -m "Fix: keep React in vendor bundle"
git push
```

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é.

---

### ‚ùå –û–®–ò–ë–ö–ê 2: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–±–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 5-10 —Å–µ–∫—É–Ω–¥

**–°–∏–º–ø—Ç–æ–º—ã:**
```
[INFO] Caddy server running
[INFO] handled request
[INFO] Stopping Container (5 —Å–µ–∫—É–Ω–¥ —Å–ø—É—Å—Ç—è)
```

**–ü—Ä–∏—á–∏–Ω–∞:** Health check –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç.

**–†–µ—à–µ–Ω–∏–µ:**

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `railway.json`:
```json
{
  "deploy": {
    "healthcheckPath": "/",
    "healthcheckTimeout": 100
  }
}
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `RAILPACK_SPA_OUTPUT_DIR=dist`

3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `dist/index.html` —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–∏ build:
```bash
npm run build
ls dist/index.html  # –î–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å!
```

4. –ï—Å–ª–∏ –Ω–µ—Ç - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ `vite.config.ts`:
```typescript
build: {
  outDir: path.resolve(import.meta.dirname, "dist"),
}
```

---

### ‚ùå –û–®–ò–ë–ö–ê 3: "Expected JavaScript but got application/octet-stream"

**–°–∏–º–ø—Ç–æ–º—ã:**
```
Failed to load module script: Expected a JavaScript module
but the server responded with a MIME type of "application/octet-stream"
```

**–ü—Ä–∏—á–∏–Ω–∞:** –í `client/index.html` –µ—Å—Ç—å —Ä—É—á–Ω–æ–π modulepreload —Å data URI.

**–†–µ—à–µ–Ω–∏–µ:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ `client/index.html`
2. **–£–¥–∞–ª–∏—Ç–µ** –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ —Å `<link rel="modulepreload">`:

```html
<!-- ‚ùå –£–î–ê–õ–ò–¢–ï -->
<link rel="modulepreload" href="/src/main.tsx">
<link rel="modulepreload" href="data:application/octet-stream;base64,...">
```

3. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ:
```bash
npm run build
git add client/index.html
git commit -m "Remove manual modulepreload"
git push
```

**–ü–æ—á–µ–º—É:** Vite **—Å–∞–º** –¥–æ–±–∞–≤–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ modulepreload –ø—Ä–∏ —Å–±–æ—Ä–∫–µ –≤ `dist/index.html`.

---

### ‚ùå –û–®–ò–ë–ö–ê 4: –í—Å–µ —Ñ–∞–π–ª—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 404

**–°–∏–º–ø—Ç–æ–º—ã:**
- –í Network tab (F12): –≤—Å–µ JS/CSS —Ñ–∞–π–ª—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç 404
- –°–∞–π—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** Caddy –Ω–µ –≤–∏–¥–∏—Ç –ø–∞–ø–∫—É `dist/`.

**–†–µ—à–µ–Ω–∏–µ:**

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `dist/` —Å–æ–∑–¥–∞—ë—Ç—Å—è:
```bash
npm run build
ls -la dist/
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å: index.html, assets/, manifest.json
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ Railway:
   - Variables ‚Üí `RAILPACK_SPA_OUTPUT_DIR=dist`

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `vite.config.ts`:
```typescript
root: path.resolve(import.meta.dirname, "client"),
build: {
  outDir: path.resolve(import.meta.dirname, "dist"),
}
```

4. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `dist/` **–ù–ï** –≤ git:
```bash
git status
# –ù–ï –¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ñ–∞–π–ª—ã –∏–∑ dist/
```

---

### ‚ùå –û–®–ò–ë–ö–ê 5: "npm start" –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤–º–µ—Å—Ç–æ Caddy

**–°–∏–º–ø—Ç–æ–º—ã:**
```
> npm start
> node server.js

Server started on port 5000
Stopping Container (5 —Å–µ–∫)
```

**–ü—Ä–∏—á–∏–Ω–∞:** –í `package.json` –µ—Å—Ç—å `"start"` script.

**–†–µ—à–µ–Ω–∏–µ –¥–ª—è SPA:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ `package.json`
2. **–£–¥–∞–ª–∏—Ç–µ** `"start"` script:

```json
{
  "scripts": {
    "dev": "vite",
    "build": "vite build"
    // ‚úÖ –ù–ï–¢ "start"
  }
}
```

3. Commit –∏ push:
```bash
git add package.json
git commit -m "Remove start script for SPA deployment"
git push
```

**–†–µ—à–µ–Ω–∏–µ –¥–ª—è Full-Stack:**

–ï—Å–ª–∏ —É –≤–∞—Å **–ï–°–¢–¨ backend**, –æ—Å—Ç–∞–≤—å—Ç–µ `"start"`, –Ω–æ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–µ—Ä–≤–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

```javascript
// server/index.js
import express from 'express';
import path from 'path';

const app = express();

// –†–∞–∑–¥–∞–≤–∞—Ç—å —Å—Ç–∞—Ç–∏–∫—É
app.use(express.static('dist'));

// SPA fallback
app.get('*', (req, res) => {
  res.sendFile(path.join(process.cwd(), 'dist', 'index.html'));
});

app.listen(process.env.PORT || 3000);
```

---

### ‚ùå –û–®–ò–ë–ö–ê 6: Vite environment variables –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

**–°–∏–º–ø—Ç–æ–º—ã:**
```typescript
console.log(import.meta.env.VITE_API_URL); // undefined
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –±–µ–∑ `VITE_` –ø—Ä–µ—Ñ–∏–∫—Å–∞ –∏–ª–∏ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ Railway.

**–†–µ—à–µ–Ω–∏–µ:**

1. –í Railway **Variables** –¥–æ–±–∞–≤—å—Ç–µ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `VITE_`:
```
VITE_API_URL=https://api.example.com
VITE_BOT_NAME=MyBot
```

2. –í –∫–æ–¥–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```typescript
const apiUrl = import.meta.env.VITE_API_URL;
```

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω–∂–µ–∫—Ç—è—Ç—Å—è **–≤–æ –≤—Ä–µ–º—è build**, –Ω–µ runtime!

---

### ‚ùå –û–®–ò–ë–ö–ê 7: Images/assets –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è (404)

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ö–∞—Ä—Ç–∏–Ω–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç broken image icon
- –í Console: 404 –¥–ª—è `/assets/image.png`

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∫ assets.

**–†–µ—à–µ–Ω–∏–µ:**

1. **–í dev** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—É—Ç–∏ –æ—Ç public:
```typescript
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
<img src="./image.png" />

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
<img src="/image.png" />  // –ò–∑ public/image.png
```

2. **–î–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö imports** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ @assets alias:
```typescript
import logoUrl from '@assets/logo.png';
<img src={logoUrl} />
```

3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `vite.config.ts` —Å–æ–¥–µ—Ä–∂–∏—Ç alias:
```typescript
resolve: {
  alias: {
    "@assets": path.resolve(import.meta.dirname, "attached_assets"),
  }
}
```

---

## 4.2. –ö–∞–∫ —á–∏—Ç–∞—Ç—å –ª–æ–≥–∏ Railway

### –ì–¥–µ –Ω–∞–π—Ç–∏ –ª–æ–≥–∏

1. Railway Dashboard ‚Üí –≤–∞—à —Å–µ—Ä–≤–∏—Å
2. –í–∫–ª–∞–¥–∫–∞ **"Deployments"**
3. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π deployment
4. –ù–∞–∂–º–∏—Ç–µ **"View Logs"**

### –¢–∏–ø—ã –ª–æ–≥–æ–≤

#### ‚úÖ –£—Å–ø–µ—à–Ω–∞—è —Å–±–æ—Ä–∫–∞:
```
[INFO] Starting build...
[INFO] Installing dependencies... ‚úì
[INFO] Running npm run build... ‚úì
[INFO] Build complete! ‚úì
[INFO] Creating image... ‚úì
[INFO] Pushing image... ‚úì
```

#### ‚úÖ –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫:
```
[INFO] Starting Container
[INFO] Caddy server running
[INFO] serving initial configuration
[INFO] handled request (healthcheck)
```

#### ‚ùå –û—à–∏–±–∫–∞ —Å–±–æ—Ä–∫–∏:
```
[ERROR] npm ERR! Build failed
[ERROR] Exit code 1
```

‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `npm run build` –ª–æ–∫–∞–ª—å–Ω–æ!

#### ‚ùå Health check failed:
```
[INFO] Caddy server running
[INFO] Stopping Container (5-10 —Å–µ–∫)
```

‚Üí Healthcheck –Ω–µ –≤–µ—Ä–Ω—É–ª 200!

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø–æ–∏—Å–∫–∞

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Ctrl+F –≤ –ª–æ–≥–∞—Ö:

- –ù–∞–π—Ç–∏ –æ—à–∏–±–∫–∏: `ERROR`
- –ù–∞–π—Ç–∏ warnings: `WARN`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å healthcheck: `handled request`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Caddy: `server running`

---

## 4.3. –û—Ç–ª–∞–¥–∫–∞ –≤ production

### –ú–µ—Ç–æ–¥ 1: Browser Console

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç
2. –ù–∞–∂–º–∏—Ç–µ **F12**
3. –í–∫–ª–∞–¥–∫–∞ **"Console"**
4. –ò—â–∏—Ç–µ **–∫—Ä–∞—Å–Ω—ã–µ –æ—à–∏–±–∫–∏**

–¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏:
```
‚ùå Failed to fetch module
‚ùå TypeError: Cannot read...
‚ùå 404 Not Found
```

### –ú–µ—Ç–æ–¥ 2: Network Tab

1. F12 ‚Üí –≤–∫–ª–∞–¥–∫–∞ **"Network"**
2. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)
3. –ù–∞–π–¥–∏—Ç–µ **–∫—Ä–∞—Å–Ω—ã–µ** —Ñ–∞–π–ª—ã (404, Failed)

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- ‚úÖ `index.html` ‚Üí 200 OK
- ‚úÖ `assets/index-ABC.js` ‚Üí 200 OK
- ‚úÖ `assets/vendor-XYZ.js` ‚Üí 200 OK

### –ú–µ—Ç–æ–¥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

–û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞–ø—Ä—è–º—É—é:
```
https://yourapp.up.railway.app/assets/index-ABC123.js
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –∫–æ–¥ ‚Üí —Ñ–∞–π–ª —Ä–∞–∑–¥–∞—ë—Ç—Å—è ‚úÖ  
–ï—Å–ª–∏ 404 ‚Üí Caddy –Ω–µ –≤–∏–¥–∏—Ç —Ñ–∞–π–ª ‚ùå

### –ú–µ—Ç–æ–¥ 4: Sourcemaps

–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –≤ –º–∏–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –∫–æ–¥–µ:

1. –í–∫–ª—é—á–∏—Ç–µ sourcemaps –≤ `vite.config.ts`:
```typescript
build: {
  sourcemap: true, // –í—Ä–µ–º–µ–Ω–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
}
```

2. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–¥–µ–ø–ª–æ–π—Ç–µ
3. –¢–µ–ø–µ—Ä—å –≤ Console —É–≤–∏–¥–∏—Ç–µ **—Ä–µ–∞–ª—å–Ω—ã–µ** —Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞

**‚ö†Ô∏è –ü–æ—Å–ª–µ –æ—Ç–ª–∞–¥–∫–∏:** –í–µ—Ä–Ω–∏—Ç–µ `sourcemap: 'hidden'` (–±–µ–∑–æ–ø–∞—Å–Ω–µ–µ –¥–ª—è production)

---

# –ß–ê–°–¢–¨ 5: –ü–û–°–õ–ï –î–ï–ü–õ–û–Ø

## 5.1. Continuous Deployment

Railway **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –∑–∞–¥–µ–ø–ª–æ–∏—Ç –ø—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ main branch!

### Workflow:

```bash
# 1. –î–µ–ª–∞–µ—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ Replit
# 2. –¢–µ—Å—Ç–∏—Ä—É–µ—Ç–µ: npm run dev

# 3. Commit
git add .
git commit -m "Add new feature"

# 4. Push
git push

# Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
# - –û–±–Ω–∞—Ä—É–∂–∏—Ç –Ω–æ–≤—ã–π commit
# - –ó–∞–ø—É—Å—Ç–∏—Ç npm install
# - –ó–∞–ø—É—Å—Ç–∏—Ç npm run build
# - –ó–∞–¥–µ–ø–ª–æ–∏—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é
# - –í—ã–ø–æ–ª–Ω–∏—Ç healthcheck
# - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç —Ç—Ä–∞—Ñ–∏–∫ –Ω–∞ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é
```

**–í—Ä–µ–º—è –¥–µ–ø–ª–æ—è:** –æ–±—ã—á–Ω–æ 2-4 –º–∏–Ω—É—Ç—ã.

### –û—Ç–∫–ª—é—á–∏—Ç—å auto-deploy:

–ï—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–∏—Ç—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º push:

1. Railway ‚Üí Settings ‚Üí **Source**
2. –û—Ç–∫–ª—é—á–∏—Ç–µ **"Auto Deploy"**
3. –¢–µ–ø–µ—Ä—å –¥–µ–ø–ª–æ–π —Ç–æ–ª—å–∫–æ –≤—Ä—É—á–Ω—É—é: **"Deploy Now"**

---

## 5.2. –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

1. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ:**
```bash
npm run build
npm run preview  # –ü—Ä–æ–≤–µ—Ä–∫–∞ production build
```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç**

3. **Commit –∏ push:**
```bash
git add .
git commit -m "Update: describe changes"
git push
```

4. **–°–ª–µ–¥–∏—Ç–µ –∑–∞ Railway –ª–æ–≥–∞–º–∏**

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ production —Å–∞–π—Ç**

### Rollback (–æ—Ç–∫–∞—Ç) –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å:

1. Railway ‚Üí Deployments
2. –ù–∞–π–¥–∏—Ç–µ **–ø—Ä–µ–¥—ã–¥—É—â–∏–π —É—Å–ø–µ—à–Ω—ã–π** deployment
3. –ù–∞–∂–º–∏—Ç–µ —Ç—Ä–∏ —Ç–æ—á–∫–∏ **‚ãÆ**
4. –í—ã–±–µ—Ä–∏—Ç–µ **"Redeploy"**

Railway –≤–µ—Ä–Ω—ë—Ç—Å—è –∫ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏!

---

## 5.3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏

### –í Railway Dashboard:

1. **Metrics** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
   - CPU usage
   - Memory usage
   - Network traffic
   - Request count

2. **Logs** - –≤—Å–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

3. **Health** - —Å—Ç–∞—Ç—É—Å healthcheck

### –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:

1. Railway ‚Üí Settings ‚Üí **Notifications**
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ Discord/Slack/Email
3. –ü–æ–ª—É—á–∞–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ:
   - Deployment failures
   - Health check failures
   - High resource usage

---

## üìã –ò–¢–û–ì–û–í–´–ô –ß–ï–ö–õ–ò–°–¢

–ü–µ—Ä–µ–¥ –ö–ê–ñ–î–´–ú –¥–µ–ø–ª–æ–µ–º –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ:

### –§–∞–π–ª—ã:
- [ ] ‚úÖ `railway.json` —Å Railpack –∏ healthcheck
- [ ] ‚úÖ `vite.config.ts` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º chunk splitting
- [ ] ‚úÖ `.gitignore` —Å–æ–¥–µ—Ä–∂–∏—Ç dist/, node_modules/, .env
- [ ] ‚úÖ `client/index.html` –ë–ï–ó —Ä—É—á–Ω—ã—Ö modulepreload
- [ ] ‚úÖ `package.json` –ë–ï–ó "start" (–¥–ª—è SPA)

### –¢–µ—Å—Ç—ã:
- [ ] ‚úÖ `npm run build` —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] ‚úÖ `dist/index.html` —Å–æ–∑–¥–∞—ë—Ç—Å—è
- [ ] ‚úÖ –ù–µ—Ç hardcoded localhost URLs
- [ ] ‚úÖ –í—Å–µ assets –¥–æ—Å—Ç—É–ø–Ω—ã

### Git:
- [ ] ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã
- [ ] ‚úÖ dist/ –ù–ï –≤ git
- [ ] ‚úÖ .env –ù–ï –≤ git
- [ ] ‚úÖ Push –≤ main branch

### Railway:
- [ ] ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `RAILPACK_SPA_OUTPUT_DIR=dist`
- [ ] ‚úÖ Start Command **–ü–£–°–¢–û–ô**
- [ ] ‚úÖ Builder = Railpack
- [ ] ‚úÖ Domain generated

---

## üéØ Quick Reference

### –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å:

| –°–∏–º–ø—Ç–æ–º | –†–µ—à–µ–Ω–∏–µ |
|---------|---------|
| "Cannot read 'useState'" | React –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º chunk ‚Üí –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –≤ vendor |
| Container stops after 5s | Health check –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ railway.json |
| "application/octet-stream" | –£–¥–∞–ª–∏—Ç–µ —Ä—É—á–Ω—ã–µ modulepreload –∏–∑ index.html |
| 404 –Ω–∞ –≤—Å–µ —Ñ–∞–π–ª—ã | dist/ –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ vite.config.ts |
| "npm start" –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è | –£–¥–∞–ª–∏—Ç–µ "start" script –∏–∑ package.json |
| Env vars –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç | –î–æ–±–∞–≤—å—Ç–µ VITE_ –ø—Ä–µ—Ñ–∏–∫—Å –≤ Railway Variables |

### –í–∞–∂–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
# –õ–æ–∫–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞
npm run build

# –ü—Ä–æ–≤–µ—Ä–∫–∞ production build
npm run preview

# Git workflow
git add .
git commit -m "message"
git push

# –ü—Ä–æ–≤–µ—Ä–∫–∞ gitignore
git status  # dist/ –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ —Å–ø–∏—Å–∫–µ
```

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Railway Docs](https://docs.railway.com)
- [Railpack Docs](https://railpack.com)
- [Vite Docs](https://vite.dev)
- [Railway Status](https://status.railway.app) - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–ø—Ç–∞–π–º–∞

---

**–í–µ—Ä—Å–∏—è:** 2.0  
**–î–∞—Ç–∞:** 18 –Ω–æ—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞ production  
**–ê–≤—Ç–æ—Ä:** –ü–æ–ª–Ω—ã–π –æ–ø—ã—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ Replit ‚Üí Railway

üöÄ **–°–ª–µ–¥—É–π—Ç–µ —ç—Ç–æ–º—É –≥–∞–π–¥—É –∏ –≤–∞—à –¥–µ–ø–ª–æ–π –ø—Ä–æ–π–¥—ë—Ç –° –ü–ï–†–í–û–ì–û –†–ê–ó–ê!**
